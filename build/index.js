(()=>{var e={495:(e,o)=>{(()=>{"use strict";var e={d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{NewfoldRuntime:()=>r});const n=window.wp.url,r={hasCapability:e=>!0===window.NewfoldRuntime?.capabilities[e],adminUrl:e=>window.NewfoldRuntime?.admin_url+e,createApiUrl:(e,o={})=>(0,n.addQueryArgs)(window.NewfoldRuntime?.base_url,{rest_route:e,...o}),get siteDetails(){return window.NewfoldRuntime?.site},get sdk(){return window.NewfoldRuntime?.sdk},get isWoo(){return window.NewfoldRuntime?.isWoocommerceActive},get isYithBooking(){return window.NewfoldRuntime?.isYithBookingActive},get ecommerce(){return window.NewfoldRuntime?.ecommerce},get plugin(){return window.NewfoldRuntime?.plugin},get wpversion(){return window.NewfoldRuntime?.wpversion},get siteTitle(){return window.NewfoldRuntime?.siteTitle},get currentTheme(){return window.NewfoldRuntime?.currentTheme}};var i=o;for(var s in t)i[s]=t[s];t.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()},942:(e,o)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=s(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)n.call(e,t)&&e[t]&&(o=s(o,t));return o}function s(e,o){return o?e?e+" "+o:e+o:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(o,[]))||(e.exports=t)}()}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";t.r(n),t.d(n,{FacebookConnectButton:()=>w,FacebookConnectPluginView:()=>h,facebookConnectHelper:()=>g,getFacebookUserProfileDetails:()=>a});const e=window.wp.components,o=window.wp.apiFetch;var r=t.n(o);const i=window.React;var s=t(495);const c={facebook_module:{base_url:"https://graph.facebook.com/v18.0",debug_token:"/debug_token",token_phrase:"secret_token_phrase"},wordpress:{access:s.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/hiive"),fb_token:s.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/get-token"),post_token:s.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/post-token"),facebook_details:s.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/details"),facebook_logout:s.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/logout")},cf_worker:{base_url:"https://hiive.cloud",login_screen:"https://hiive.cloud/workers/facebook-connect/",get_token:"https://hiive.cloud/workers/facebook-connect/get/token?hiive_token=",delete_token:"https://hiive.cloud/workers/facebook-connect/delete/token?hiive_token="}},a=()=>r()({url:c.wordpress.facebook_details}).then((e=>{if(e?.details?.error)throw{message:"failed to load the data",error:e?.details?.error};return e?.details})).catch((e=>{throw e})),l=e=>r()({url:`${c.wordpress.fb_token}`,data:e,method:"POST"}),d=window.wp.i18n;var u=t(942),f=t.n(u);const p=window.ReactJSXRuntime,w=({className:o,children:t,showData:n,onConnect:s,onDisconnect:u,onFailure:w,onClick:h})=>{const[g,b]=(0,i.useState)(""),[k,m]=(0,i.useState)(!1),[v,_]=(0,i.useState)([]),[y,x]=(0,i.useState)(!1);function j(e){e.origin.search("https://hiive.cloud")<0||(x(!0),window.removeEventListener("message",j),l(e.data).then((e=>{S()})).catch((()=>x(!1))))}const S=()=>{a().then((e=>{"token not found!"!==e&&(m(!0),_(e),x(!1),"function"==typeof s&&s(e))})).catch((()=>r()({url:c.wordpress.access}).then((e=>{a().then((e=>{"token not found!"!==e&&(m(!0),_(e),"function"==typeof s&&s(e)),x(!1)})).catch((e=>{x(!1),"function"==typeof w&&w(e)})),b(e.token)})).catch((e=>{x(!1),"function"==typeof w&&w(e)}))))};return(0,i.useEffect)((()=>{!g&&r()({url:c.wordpress.access}).then((e=>{e.token&&b(e.token)})),S()}),[]),(0,p.jsx)("div",{children:k?(0,p.jsxs)("div",{children:[(0,p.jsx)(e.Button,{className:f()("nfd-facebook-button--connected",`${o}--connected`),children:(0,d.__)("Connected","wp-module-facebook")}),n&&(0,p.jsx)("div",{children:v?.map((e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("ul",{style:{paddingTop:"20px"},children:[(0,p.jsx)("li",{children:(0,p.jsxs)("p",{children:["Facebook ID: ",e?.User?.profile?.id]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{children:["User Name: ",e?.User?.profile?.name]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{children:["User Email: ",e?.User?.profile?.email]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("p",{children:["Profile pic:",e?.User?.profile?.picture?.data?.url]})})]}),(0,p.jsx)("img",{src:`https://graph.facebook.com/${e?.id}/picture?type=small`,height:e?.picture?.height,width:e?.picture?.width})]})))})]}):(0,p.jsxs)(e.Button,{type:"submit",disabled:y,className:f()("nfd-facebook-button--connect",`${o}--connect`),onClick:()=>(window.open(`${c.cf_worker.login_screen}?token_hiive=${g}&redirect=${window.location.href}`,"ModalPopUp",`toolbar=no,scrollbars=no,location=no,width=${window.innerWidth/2+200},height=${window.innerHeight/2+200},top=200,left=200`),window.addEventListener("message",j,!1),void("function"==typeof h&&h())),children:[t,(0,d.__)("Connect Facebook","wp-module-facebook"),y&&(0,p.jsx)(e.Spinner,{})]})})},h=({fbLogin:o,loginInfo:t,getFbDetails:n})=>{const[s,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>a(!1)),[]);return o&&(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"20px"},children:[(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30px",width:"30px",fill:"#405795",viewBox:"0 0 24 24",style:{marginRight:"10px"},children:(0,p.jsx)("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})}),(0,p.jsxs)("p",{style:{fontSize:"0.9rem",fontWeight:"600",paddingLeft:"15px"},children:["Facebook -",(0,p.jsx)("span",{style:{fontWeight:"normal"},children:t?.user?.profile?.email})]})]}),s?(0,p.jsx)(e.Spinner,{}):(0,p.jsx)("button",{style:{color:"#286BDE"},onClick:()=>(async()=>{a(!0),await r()({url:c.wordpress.facebook_logout}).then((e=>e)).catch((e=>{throw{message:"failed to load the data",errorMsg:e}})).then((()=>{n()})),a(!1)})(),children:"Disconnect"})]})},g=async e=>{let o="",t=null,n=[];function i(o){o.origin.search(c.cf_worker.base_url)<0||(window.removeEventListener("message",i),l(o.data).then((()=>{e()})))}await r()({url:c.wordpress.access}).then((e=>{r()({url:`${c.wordpress.post_token}`,headers:{method:"GET","content-type":"application/json","Accept-Encoding":"gzip, deflate, br","Access-Control-Allow-Origin":"*"}}).then((e=>{var o;e.token&&(o=e.token,r()({url:c.wordpress.settings,method:"post",data:{fb_token:o}}).then((e=>e)).catch((e=>{console.error(e)})),t=e.token)})).catch((e=>{console.error(e)})),o=e.token})).catch((e=>{console.error(e)})),await r()({url:c.wordpress.fb_token,data:o,method:"post"}).then((async e=>{e?.fb_token?await a().then((o=>(t=e.fb_token,n=[o],n))):(window.open(`${c.cf_worker.login_screen}?token_hiive=${o}&redirect=${window.location.href}`,"ModalPopUp",`toolbar=no,scrollbars=no,location=no,width=${window.innerWidth/2+200},height=${window.innerHeight/2+200},top=200,left=200`),window.addEventListener("message",i,!1))}))}})();var r=exports;for(var i in n)r[i]=n[i];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();